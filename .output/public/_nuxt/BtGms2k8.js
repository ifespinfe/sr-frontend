import{_ as W}from"./od_-np1T.js";import{_ as J}from"./C_zf8-vi.js";import{_ as K}from"./nLJf7L4D.js";import{h as P,k as X,j as Y,o as d,c as f,b as a,w as c,n as t,a as e,S as Z,t as i,v as m,_ as V,d as O}from"./DwijywLI.js";import{_ as ee}from"./Ctk4lUJr.js";import{u as se}from"./DtvpHL7a.js";import{u as te}from"./BXgnxnG7.js";import"./D-SZiQ3A.js";const oe={class:"container pt-6 pb-20"},le={class:"grid grid-cols-1 md:grid-cols-[1fr_350px] justify-between gap-6 mt-10 relative"},ae={class:"relative z-10"},ie={class:"grid lg:grid-cols-[auto_1fr] items-center gap-4"},ne={class:"py-2"},re={class:"font-display text-3xl md:text-4xl font-semibold"},de={class:"flex flex-wrap gap-4 items-center my-4 mb-6"},fe={class:"flex items-center gap-2"},ce={class:"flex items-center gap-1"},me={class:"font-semibold"},ue={key:0,class:"flex items-center gap-2"},_e={class:"flex items-center gap-1"},ge={class:"font-semibold"},pe={class:"flex items-center gap-2"},xe={class:"flex items-center gap-1"},ve={class:"font-semibold"},we={key:1,class:"flex items-center gap-2"},be={class:"flex items-center gap-1"},he={class:"font-semibold"},ye={class:"flex flex-col md:flex-row items-center gap-4"},ke={key:0,class:"mt-4 space-y-2 text-muted-foreground relative z-10"},Se={class:"max-w-[550px]"},ze={class:"inline-flex bg-white/10 items-center rounded-xl p-3 gap-4"},Ee={class:"text-lg font-semibold text-foreground"},Oe=P({__name:"[username]",setup(Fe){var g,p;const R=(p=(g=X())==null?void 0:g.params)==null?void 0:p.username,{status:T,data:o,error:q,refresh:u}=se(`/follower/detail?user_name=${R}`),_=Y(()=>{var l;return(l=o.value)!=null&&l.data?o.value.data.follower.role==="host":!1}),{followUser:A,following:j,subOrUnsubscribeUser:D,subscribing:H}=te(),G=()=>{var s,n;const l=(n=(s=o.value)==null?void 0:s.data)==null?void 0:n.follower.id;l&&A(l,u)},M=()=>{var s,n;const l=(n=(s=o.value)==null?void 0:s.data)==null?void 0:n.follower.id;l&&D(l,"subscribe",u)};return(l,s)=>{const n=W,r=J,Q=K;return d(),f("div",oe,[a(n,{to:"/following",class:"relative z-10"}),a(Q,{loading:t(T)==="pending",error:t(q)},{default:c(()=>{var x,v,w,b,h,y,k,S,z,E,F,B,C,L,N,U,$,I;return[e("div",le,[s[8]||(s[8]=e("div",{class:"fixed left-0 right-0 h-[70vh] top-0 bg-gradient-to-r from-[#4a1520] via-[#462454] to-[#2d4163]"},null,-1)),s[9]||(s[9]=e("div",{class:"fixed left-0 right-0 h-[70vh] top-0 bg-gradient-to-b from-[#4a1520] via-[#462454] to-background"},null,-1)),e("div",ae,[e("div",ie,[a(ee,{class:"!size-[120px] md:!size-[180px] xl:!size-[200px] !rounded-3xl !text-4xl",initials:("getInitials"in l?l.getInitials:t(Z))(((w=(v=(x=t(o))==null?void 0:x.data)==null?void 0:v.follower)==null?void 0:w.user_name)??""),image:(h=(b=t(o))==null?void 0:b.data)==null?void 0:h.follower.profile_picture},null,8,["initials","image"]),e("div",ne,[e("div",re,i(((S=(k=(y=t(o))==null?void 0:y.data)==null?void 0:k.follower)==null?void 0:S.user_name)??""),1),e("div",de,[e("div",fe,[a(r,{name:"account_circle"}),e("div",ce,[e("span",me,i((E=(z=t(o))==null?void 0:z.data)==null?void 0:E.follower.followers),1),s[0]||(s[0]=e("span",{class:"text-muted-foreground"},"FOLLOWERS",-1))])]),t(_)?(d(),f("div",ue,[a(r,{name:"celebration"}),e("div",_e,[e("span",ge,i((B=(F=t(o))==null?void 0:F.data)==null?void 0:B.follower.total_events),1),s[1]||(s[1]=e("span",{class:"text-muted-foreground"},"EVENTS",-1))])])):m("",!0),e("div",pe,[a(r,{name:"genres"}),e("div",xe,[e("span",ve,i((L=(C=t(o))==null?void 0:C.data)==null?void 0:L.follower.requests),1),s[2]||(s[2]=e("span",{class:"text-muted-foreground"},"REQUESTS",-1))])]),t(_)?(d(),f("div",we,[a(r,{name:"genres"}),e("div",be,[e("span",he,i((U=(N=t(o))==null?void 0:N.data)==null?void 0:U.follower.fulfilled),1),s[3]||(s[3]=e("span",{class:"text-muted-foreground"},"FUFILLED",-1))])])):m("",!0)]),e("div",ye,[a(V,{variant:"secondary",class:"w-full md:w-auto",size:"lg",onClick:G,loading:t(j),hide_loading_text:""},{default:c(()=>s[4]||(s[4]=[O(" Follow ")])),_:1},8,["loading"]),a(V,{class:"w-full md:w-auto",size:"lg",onClick:M,loading:t(H),hide_loading_text:""},{default:c(()=>s[5]||(s[5]=[O(" Notify me when Host Goes Live. ")])),_:1},8,["loading"])])])])]),((I=($=t(o))==null?void 0:$.data)==null?void 0:I.follower.role)==="host"?(d(),f("div",ke,[s[7]||(s[7]=e("div",null,"ABOUT ME",-1)),e("div",Se,i(t(o).data.follower.bio),1),e("div",ze,[a(r,{name:"badge"}),e("div",null,[e("div",Ee,i(t(o).data.follower.fulfilled)+" of "+i(t(o).data.follower.requests),1),s[6]||(s[6]=e("div",{class:"text-muted-foreground"},"Request fufilled",-1))])])])):m("",!0)])]}),_:1},8,["loading","error"])])}}});export{Oe as default};
