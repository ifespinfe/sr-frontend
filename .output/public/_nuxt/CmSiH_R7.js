import{_ as L}from"./d1s0BTdH.js";import{_ as V}from"./C7aYX53g.js";import{_ as q}from"./CyaSbDKn.js";import{e as z,h as A,J as W,o as a,p as u,w as o,b as e,_ as v,n as t,L as j,a as n,c as x,F as R,E as Y,t as C,ap as J,v as g,d as M,bE as P,bF as T,bG as U,bH as B,bI as E,i as G,S as K,q as Q,aR as X,aS as Z,aT as ee,j as te}from"./CycnJrnd.js";import{C as oe}from"./Dc4Uyz7b.js";import{u as $}from"./DxK-5KH8.js";import{S as se}from"./CWm-NhLA.js";/**
 * @license lucide-vue-next v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=z("CircleUserRoundIcon",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-vue-next v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=z("InboxIcon",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-vue-next v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=z("LogOutIcon",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-vue-next v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=z("WalletMinimalIcon",[["path",{d:"M17 14h.01",key:"7oqj8z"}],["path",{d:"M7 7h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14",key:"u1rqew"}]]),le={class:"h-[364px] overflow-auto pb-2 space-y-1"},ie={class:"flex items-center gap-x-4 relative px-2 sm:px-6 py-3 hover:bg-white/5 cursor-pointer transition-colors [&:hover_.check-button]:inline-flex"},re={class:"bg-white/10 p-2 rounded-full"},de={class:"space-y-1"},ce={class:"flex items-center gap-x-2 text-[#C3C3C3]"},ue={class:"absolute right-2 sm:right-6 top-1/2 -translate-y-1/2 check-button sm:hidden"},pe={key:0,class:"space-y-2 grid place-items-center place-center"},me={key:1,class:"place-center"},fe={key:0,class:"px-2 sm:px-6 py-2 border-t flex justify-end"},_e=A({__name:"notification-menu",setup(F){const{notifications:m,markNotificationAsRead:l,markAllNotificationsAsRead:h,loading:p,clearing:s,updating:b}=W();return(r,i)=>{const k=P,f=T,d=U,D=B,I=E;return a(),u(I,null,{default:o(()=>[e(k,{asChild:""},{default:o(()=>[e(v,{variant:"ghost",class:"!rounded-full border !p-2"},{default:o(()=>[t(p)?(a(),u(t(j),{key:0,class:"animate-spn size-3"})):(a(),u(L,{key:1,name:"bell"}))]),_:1})]),_:1}),e(D,null,{default:o(()=>[e(d,{class:"z-[150] min-w-[98vw] sm:min-w-[36rem] overflow-hidden rounded-xl border bg-popover space-y-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2"},{default:o(()=>[i[3]||(i[3]=n("div",{class:"flex justify-between items-center border-b py-4 px-4 sm:px-8"},[n("div",{class:"text-2xl font-semibold"},"Notifications")],-1)),n("div",le,[(a(!0),x(R,null,Y(t(m),c=>(a(),u(f,{asChild:"",key:c.id},{default:o(()=>{var _;return[n("div",ie,[n("div",re,[e(L,{name:"bell"})]),n("div",de,[n("div",null,C((_=c==null?void 0:c.data)==null?void 0:_.message),1),n("div",ce,[n("div",null,C(("useDateFormat"in r?r.useDateFormat:t($))(c.created_at,"Do MMM, YY")),1),i[0]||(i[0]=n("div",{class:"size-[6px] rounded-full bg-[#C3C3C3]"},null,-1)),n("div",null,C(("useDateFormat"in r?r.useDateFormat:t($))(c.created_at,"HH:mm AA")),1)])]),n("div",ue,[e(q,{message:"Mark as read"},{default:o(()=>[e(v,{size:"icon",variant:"outline",class:"animate-in slide-in-from-top-1",loading:t(b)[c.id],onClick:J(y=>t(l)(c.id),["stop"])},{default:o(()=>[e(t(oe),{class:"size-5"})]),_:2},1032,["loading","onClick"])]),_:2},1024)])])]}),_:2},1024))),128)),t(m).length?g("",!0):(a(),x("div",pe,[e(t(ne)),i[1]||(i[1]=n("div",null,"No new notifications",-1))])),t(p)?(a(),x("div",me,[e(t(j),{class:"animate-spin"})])):g("",!0)]),t(m).length?(a(),x("div",fe,[e(v,{variant:"outline",loading:t(s),onClick:t(h)},{default:o(()=>i[2]||(i[2]=[M(" Mark all as read ")])),_:1},8,["loading","onClick"])])):g("",!0)]),_:1})]),_:1})]),_:1})}}}),ge=A({__name:"profile-menu",setup(F){const{logOut:m,auth_user:l}=G(),h=()=>{Q().push("/login")};return(p,s)=>{const b=X,r=Z,i=ee,k=P,f=V,d=T,D=U,I=B,c=E;return a(),u(c,null,{default:o(()=>[e(k,{asChild:""},{default:o(()=>[e(v,{variant:"ghost",class:"w-auto h-auto !p-0 !rounded-full"},{default:o(()=>[e(i,{class:"bg-muted inline-flex size-[40px] select-pointer items-center justify-center overflow-hidden rounded-full align-middle"},{default:o(()=>{var _,y;return[(_=t(l))!=null&&_.profile_picture?(a(),u(b,{key:0,src:(y=t(l))==null?void 0:y.profile_picture,class:"h-full w-full object-cover"},null,8,["src"])):g("",!0),e(r,{class:"leading-1 flex h-full w-full items-center justify-center text-[15px] font-medium uppercase"},{default:o(()=>{var w,N,S;return[M(C(("getInitials"in p?p.getInitials:t(K))(((w=t(l))==null?void 0:w.stage_name)??((N=t(l))==null?void 0:N.user_name)??((S=t(l))==null?void 0:S.email)??"")),1)]}),_:1})]}),_:1})]),_:1})]),_:1}),e(I,null,{default:o(()=>[e(D,{class:"z-[150] min-w-[8rem] overflow-hidden rounded-xl border bg-popover p-2 space-y-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2"},{default:o(()=>{var _,y,w;return[((_=t(l))==null?void 0:_.role)==="host"?(a(),u(d,{key:0,asChild:""},{default:o(()=>[e(f,{to:"/dashboard",class:"relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50"},{default:o(()=>[e(t(H),{class:"size-4 mr-2"}),s[1]||(s[1]=n("span",null,"Dashboard",-1))]),_:1})]),_:1})):g("",!0),e(d,{asChild:""},{default:o(()=>[e(f,{to:"/profile",class:"relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50"},{default:o(()=>[e(t(H),{class:"size-4 mr-2"}),s[2]||(s[2]=n("span",null,"Profile",-1))]),_:1})]),_:1}),((y=t(l))==null?void 0:y.role)==="audience"?(a(),u(d,{key:1,asChild:""},{default:o(()=>[e(f,{to:"/order-history",class:"relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50"},{default:o(()=>[e(t(O),{class:"mr-2 size-4"}),s[3]||(s[3]=n("span",null,"Order History",-1))]),_:1})]),_:1})):g("",!0),((w=t(l))==null?void 0:w.role)==="host"?(a(),u(d,{key:2,asChild:""},{default:o(()=>[e(f,{to:"/wallet",class:"relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50"},{default:o(()=>[e(t(O),{class:"mr-2 size-4"}),s[4]||(s[4]=n("span",null,"Wallet",-1))]),_:1})]),_:1})):g("",!0),e(d,{class:"relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",onSelect:s[0]||(s[0]=N=>t(m)(h))},{default:o(()=>[e(t(ae),{class:"size-4 mr-2"}),s[5]||(s[5]=n("span",null,"Log out",-1))]),_:1})]}),_:1})]),_:1})]),_:1})}}}),xe={class:"flex items-center justify-between container"},ve={class:"flex items-center gap-x-2"},ze=A({__name:"navigation",setup(F){const{isLoggedIn:m,auth_user:l}=G(),h=te(()=>{var p;return m.value?((p=l.value)==null?void 0:p.role)==="audience"?"/audience":"/dashboard":"/"});return(p,s)=>{var d;const b=L,r=V,i=q,k=_e,f=ge;return a(),x("header",xe,[e(r,{class:"flex items-center gap-x-px",to:t(h)},{default:o(()=>[e(b,{class:"scale-75"}),s[0]||(s[0]=n("div",{class:"text-lg font-semibold font-display hidden sm:block"}," SpinRequest ",-1))]),_:1},8,["to"]),n("nav",ve,[t(m)?(a(),x(R,{key:0},[((d=t(l))==null?void 0:d.role)==="audience"?(a(),u(r,{key:0,to:"/audience"},{default:o(()=>[e(i,{message:"Search host",delay:50},{default:o(()=>[e(v,{size:"icon",class:"!size-[40px]",variant:"ghost"},{default:o(()=>[e(t(se),{class:"size-5"})]),_:1})]),_:1})]),_:1})):g("",!0),e(k),e(f)],64)):(a(),x(R,{key:1},[e(r,{to:"/login"},{default:o(()=>[e(v,null,{default:o(()=>s[1]||(s[1]=[M(" LOGIN ")])),_:1})]),_:1}),e(r,{to:"/signup"},{default:o(()=>[e(v,{variant:"secondary"},{default:o(()=>s[2]||(s[2]=[M(" SIGN UP ")])),_:1})]),_:1})],64))])])}}});export{ze as _};
