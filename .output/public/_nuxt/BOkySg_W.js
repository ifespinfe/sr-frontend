import{i as k,n as R,a as V,t as E,b as g,c as C}from"./DxK-5KH8.js";import{r as D,aj as I,l as L,j as q,aG as j,a1 as z,aI as S,n as W}from"./CycnJrnd.js";const O=k?window:void 0;function T(t){var r;const s=E(t);return(r=s==null?void 0:s.$el)!=null?r:s}function _(...t){let r,s,o,a;if(typeof t[0]=="string"||Array.isArray(t[0])?([s,o,a]=t,r=O):[r,s,o,a]=t,!r)return R;Array.isArray(s)||(s=[s]),Array.isArray(o)||(o=[o]);const l=[],d=()=>{l.forEach(c=>c()),l.length=0},f=(c,u,i,y)=>(c.addEventListener(u,i,y),()=>c.removeEventListener(u,i,y)),n=L(()=>[T(r),E(a)],([c,u])=>{if(d(),!c)return;const i=V(u)?{...u}:u;l.push(...s.flatMap(y=>o.map(A=>f(c,y,A,i))))},{immediate:!0,flush:"post"}),m=()=>{n(),d()};return g(m),m}function x(){const t=D(!1),r=S();return r&&z(()=>{t.value=!0},r),t}function U(t){const r=x();return q(()=>(r.value,!!t()))}function Z(t,r={}){const{immediate:s=!0,fpsLimit:o=void 0,window:a=O}=r,l=D(!1),d=o?1e3/o:null;let f=0,n=null;function m(i){if(!l.value||!a)return;f||(f=i);const y=i-f;if(d&&y<d){n=a.requestAnimationFrame(m);return}f=i,t({delta:y,timestamp:i}),n=a.requestAnimationFrame(m)}function c(){!l.value&&a&&(l.value=!0,f=0,n=a.requestAnimationFrame(m))}function u(){l.value=!1,n!=null&&a&&(a.cancelAnimationFrame(n),n=null)}return s&&c(),g(u),{isActive:j(l),pause:u,resume:c}}function N(t,r={}){var s,o;const a=D(!1),l=I(null);let d=0,f=!0;if(k){const n=typeof r=="function"?{onDrop:r}:r,m=(s=n.multiple)!=null?s:!0,c=(o=n.preventDefaultForUnhandled)!=null?o:!1,u=e=>{var p,v;const w=Array.from((v=(p=e.dataTransfer)==null?void 0:p.files)!=null?v:[]);return w.length===0?null:m?w:[w[0]]},i=e=>{if(n.dataTypes){const p=W(n.dataTypes);return typeof p=="function"?p(e):p?p.some(v=>e.includes(v)):!0}return!0},y=e=>{var p,v;const w=Array.from((v=(p=e.dataTransfer)==null?void 0:p.items)!=null?v:[]),b=w.map(M=>M.type),h=i(b),F=m||w.length<=1;return h&&F},A=(e,p)=>{var v,w,b,h;if(f=y(e),!f){c&&e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none");return}e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="copy");const F=u(e);switch(p){case"enter":d+=1,a.value=!0,(v=n.onEnter)==null||v.call(n,null,e);break;case"over":(w=n.onOver)==null||w.call(n,null,e);break;case"leave":d-=1,d===0&&(a.value=!1),(b=n.onLeave)==null||b.call(n,null,e);break;case"drop":d=0,a.value=!1,f&&(l.value=F,(h=n.onDrop)==null||h.call(n,F,e));break}};_(t,"dragenter",e=>A(e,"enter")),_(t,"dragover",e=>A(e,"over")),_(t,"dragleave",e=>A(e,"leave")),_(t,"drop",e=>A(e,"drop"))}return{files:l,isOverDropZone:a}}function $(t,r,s={}){const{window:o=O,...a}=s;let l;const d=U(()=>o&&"ResizeObserver"in o),f=()=>{l&&(l.disconnect(),l=void 0)},n=q(()=>{const u=E(t);return Array.isArray(u)?u.map(i=>T(i)):[T(u)]}),m=L(n,u=>{if(f(),d.value&&o){l=new ResizeObserver(r);for(const i of u)i&&l.observe(i,a)}},{immediate:!0,flush:"post"}),c=()=>{f(),m()};return g(c),{isSupported:d,stop:c}}function H(t={}){const{controls:r=!1,interval:s="requestAnimationFrame"}=t,o=D(new Date),a=()=>o.value=new Date,l=s==="requestAnimationFrame"?Z(a,{immediate:!0}):C(a,s,{immediate:!0});return r?{now:o,...l}:o}export{$ as a,N as b,H as u};
