import{e as X}from"./B_tQj5rV.js";import{h as Y,o as Z,c as tt,a2 as N,a as et}from"./CycnJrnd.js";const ot={direction:"forward",speed:2,startDelay:1e3,active:!0,breakpoints:{},playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,rootNode:null};function nt(l,e){const t=l.rootNode();return e&&e(t)||t}function E(l={}){let e,t,a,S,h=0,s=!1,u=!1,_;function R(o,n){t=o;const{mergeOptions:f,optionsAtMedia:d}=n,p=f(ot,E.globalOptions),v=f(p,l);if(e=d(v),t.scrollSnapList().length<=1)return;S=e.startDelay,a=!1,_=t.internalEngine().scrollBody;const{eventStore:r}=t.internalEngine(),m=!!t.internalEngine().options.watchDrag,g=nt(t,e.rootNode);m&&t.on("pointerDown",b),m&&!e.stopOnInteraction&&t.on("pointerUp",B),e.stopOnMouseEnter&&r.add(g,"mouseenter",U),e.stopOnMouseEnter&&!e.stopOnInteraction&&r.add(g,"mouseleave",V),e.stopOnFocusIn&&t.on("slideFocusStart",i),e.stopOnFocusIn&&!e.stopOnInteraction&&r.add(t.containerNode(),"focusout",c),e.playOnInit&&c()}function P(){t.off("pointerDown",b).off("pointerUp",B).off("slideFocusStart",i).off("settle",w),i(),a=!0,s=!1}function c(){if(a||s)return;t.emit("autoScroll:play");const o=t.internalEngine(),{ownerWindow:n}=o;h=n.setTimeout(()=>{o.scrollBody=T(o),o.animation.start()},S),s=!0}function i(){if(a||!s)return;t.emit("autoScroll:stop");const o=t.internalEngine(),{ownerWindow:n}=o;o.scrollBody=_,n.clearTimeout(h),h=0,s=!1}function T(o){const{location:n,previousLocation:f,offsetLocation:d,target:p,scrollTarget:v,index:r,indexPrevious:m,limit:{reachedMin:g,reachedMax:q,constrain:z},options:{loop:G}}=o,H=e.direction==="forward"?-1:1,O=()=>D;let y=0,F=0,I=n.get(),M=0,x=!1;function J(){let L=0;f.set(n),y=H*e.speed,I+=y,n.add(y),p.set(n),L=I-M,F=Math.sign(L),M=I;const k=v.byDistance(0,!1).index;r.get()!==k&&(m.set(r.get()),r.set(k),t.emit("select"));const K=e.direction==="forward"?g(d.get()):q(d.get());if(!G&&K){x=!0;const Q=z(n.get());n.set(Q),p.set(n),i()}return D}const D={direction:()=>F,duration:()=>-1,velocity:()=>y,settled:()=>x,seek:J,useBaseFriction:O,useBaseDuration:O,useFriction:O,useDuration:O};return D}function b(){u||i()}function B(){u||A()}function U(){u=!0,i()}function V(){u=!1,c()}function w(){t.off("settle",w),c()}function A(){t.on("settle",w)}function C(o){typeof o<"u"&&(S=o),c()}function W(){s&&i()}function $(){s&&(i(),A())}function j(){return s}return{name:"autoScroll",options:l,init:R,destroy:P,play:C,stop:W,reset:$,isPlaying:j}}E.globalOptions=void 0;const st={class:"flex flex-row [&_>_*]:shrink-0 h-full items-center"},at=Y({__name:"auto-scroll-carousel",setup(l){const[e]=X({loop:!0},[E({stopOnInteraction:!1,stopOnFocusIn:!1,stopOnMouseEnter:!1,startDelay:10,speed:1.2})]);return(t,a)=>(Z(),tt("div",{class:"overflow-hidden",ref_key:"emblaRef",ref:e},[N(t.$slots,"container",{},()=>[et("div",st,[N(t.$slots,"default")])])],512))}});export{at as _};
