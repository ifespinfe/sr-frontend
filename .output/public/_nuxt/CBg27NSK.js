import{_ as Ze}from"./S27SpC1F.js";import{e as Pe,h as de,f as xe,i as Ie,r as E,o as d,p as C,w as p,a1 as Te,b as n,d as R,_ as P,a as o,n as e,s as B,x as Ke,G as _e,H as me,c as S,t as A,K as Je,L as be,v as D,j as O,an as Ye,aq as Oe,ar as Re,m as Xe,S as ea}from"./CRKMsqI1.js";import{_ as aa}from"./B0Ww4se5.js";import{_ as ge,F as ta,b as sa}from"./pMOxaoRl.js";import{_ as oa}from"./BxW_ORgm.js";import{_ as na}from"./CaxQR4Go.js";import{_ as la}from"./BKCTQd3a.js";import{_ as je}from"./lmvGdM2p.js";import{C as ia,U as ra,B as da}from"./DBmRm2cx.js";import{b as ca}from"./HNthaV9g.js";import{u as ye}from"./QkMyHs9f.js";import{C as ua,u as pa}from"./CroVdaJR.js";import{C as qe}from"./C3oy5vRl.js";import{p as _a}from"./CZgaGouz.js";import{_ as he}from"./DhdCCdzQ.js";import{_ as ma}from"./BOinvJEq.js";import{_ as fa}from"./CJ4liaEN.js";import{_ as va}from"./BGvvHLJt.js";import{P as ga}from"./B3gPWj88.js";import{C as ba}from"./BwMP7ajY.js";import"./BWcu647R.js";import"./DFO0sHI5.js";import"./Cpj98o6Y.js";/**
 * @license lucide-vue-next v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=Pe("Share2Icon",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-vue-next v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=Pe("UploadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),xa={class:"p-6"},ka={class:"pt-6"},wa=de({__name:"password-change",setup(I){const{$repo:{auth:V}}=xe(),{logOut:x}=Ie(),y=E(!1),w=async v=>{var f,r;try{y.value=!0;const s=await V.changePassword(v),h=s==null?void 0:s.message;B({title:"Success",description:h,variant:"normal"}),y.value=!1,x(()=>Ke("/login"))}catch(s){y.value=!1,B({title:"Failed",description:((f=s==null?void 0:s.data)==null?void 0:f.message)??"Invalid credentials",variant:"warning"}),console.error("ERROR LOGGING IN",(r=s==null?void 0:s.data)==null?void 0:r.message)}};return(v,f)=>{const r=je;return d(),C(r,{size:"md"},{trigger:p(()=>[Te(v.$slots,"default",{},()=>[n(P,{variant:"secondary",class:"self-center"},{default:p(()=>f[0]||(f[0]=[R("CHANGE")])),_:1})])]),heading:p(()=>f[1]||(f[1]=[o("div",{class:"font-display text-2xl font-medium"},"Change password",-1)])),default:p(()=>[o("div",xa,[n(e(ta),{class:"space-y-6 mt-2","validation-schema":e(ia),onSubmit:w},{default:p(()=>[n(ge,{name:"old_password",label:"Old password",placeholder:"Enter your old password",type:"password"}),n(ge,{name:"password",label:"New password",placeholder:"Enter your new password",type:"password"}),n(ge,{name:"password_confirmation",label:"Confirm password",placeholder:"Confirm your new password",type:"password"}),o("div",ka,[n(P,{size:"lg",type:"submit",class:"w-full",loading:e(y)},{default:p(()=>f[2]||(f[2]=[R(" SAVE PASSWORD ")])),_:1},8,["loading"])])]),_:1},8,["validation-schema"])])]),_:3})}}}),Va=()=>{const{$repo:{auth:I}}=xe(),V=E(!1),x=E(),y=E(),w=E(),v=E();return{previewFile:s=>{var h;try{if(!s.type.startsWith("image/")){B({title:"Upload only image",variant:"warning"});return}const N=new FileReader;N.onload=l=>{var _;v.value=s,w.value=(_=l.target)==null?void 0:_.result},N.onerror=l=>{var _,U;v.value=void 0,B({title:"Preview Error",description:((U=(_=l.target)==null?void 0:_.error)==null?void 0:U.message)??"Failed to preview",variant:"warning"})},N.readAsDataURL(s)}catch(N){v.value=void 0,x.value=void 0,V.value=!1;const l=N;y.value=l,B({title:"Preview Error",description:((h=l==null?void 0:l.data)==null?void 0:h.message)??"Failed to preview",variant:"warning"})}},uploadFile:async(s,h)=>{var N;try{const l=h||v.value;if(!l||!l.type.startsWith("image/")){B({title:l?"Upload only image":"Upload a file",variant:"warning"});return}const _=new FileReader;_.onload=g=>{var b;w.value=(b=g.target)==null?void 0:b.result},_.readAsDataURL(l);const U=new FormData;U.append("profile_picture",l,l.name),V.value=!0;const z=await I.uploadFile(U);V.value=!1,z.data&&(x.value=z.data,s==null||s(z.data))}catch(l){x.value=void 0,V.value=!1;const _=l;y.value=_,B({title:"Upload Error",description:((N=_==null?void 0:_.data)==null?void 0:N.message)??"Failed to upload",variant:"warning"})}},uploading:V,upload_error:y,upload_preview:w,uploaded_url:x}},$a={class:"p-6"},Na=["src"],Ba={key:1,class:"space-y-4 w-full h-full grid place-items-center text-center relative"},Sa={class:"space-y-2"},Ua={class:"text-2xl font-medium font-display"},Ca={key:0,class:"grid grid-cols-2 gap-4 mt-6 items-center"},Ea=de({__name:"upload-photo",emits:["uploaded"],setup(I,{emit:V}){const x=V,y=E(!1),w=E(),{previewFile:v,uploadFile:f,uploading:r,upload_error:s,upload_preview:h,uploaded_url:N}=Va(),l=g=>{g!=null&&g.length&&v(g[0])},_=g=>{const j=g.target.files;l(j)},U=()=>{f(g=>{x("uploaded",g),y.value=!1,B({title:"Done",description:"Picture uploaded"})})},{isOverDropZone:z}=ca(w,{onDrop:l,dataTypes:["image/jpeg","image/jpg","image/png"],multiple:!1,preventDefaultForUnhandled:!1});return(g,b)=>{const j=je;return d(),C(j,{size:"md",modelValue:e(y),"onUpdate:modelValue":b[0]||(b[0]=fe=>Je(y)?y.value=fe:null),controlled:""},{heading:p(()=>b[1]||(b[1]=[o("div",{class:"font-display text-2xl font-medium"},"Upload photo",-1)])),trigger:p(()=>[Te(g.$slots,"default",{},()=>[n(P,{variant:"secondary",class:"w-full"},{default:p(()=>b[2]||(b[2]=[R("EDIT")])),_:1})])]),default:p(()=>[o("div",$a,[o("div",{class:_e(("cn"in g?g.cn:e(me))("w-full max-w-[410px] mx-auto aspect-[1.42] border border-dashed rounded-lg relative",e(z)?"border-primary":" border-input")),ref_key:"dropZoneRef",ref:w},[e(h)?(d(),S("img",{key:0,src:e(h),alt:"profile-picture",class:"w-full h-full object-contain rounded-[inherit]"},null,8,Na)):(d(),S("div",Ba,[n(e(ha),{class:"size-8 text-muted-foreground"}),o("div",Sa,[o("div",Ua,A(e(z)?"Drop picture":" Drag and drop picture"),1),b[3]||(b[3]=o("div",{class:"text-muted-foreground text-sm"}," JPEG, or PNG file with the max size of 3MB ",-1))])]))],2),e(h)?(d(),S("div",Ca,[n(P,{variant:"secondary",size:"lg",class:"w-full relative"},{default:p(()=>b[4]||(b[4]=[o("label",{for:"upload",class:"absolute inset-0 cursor-pointer"},[o("div",{class:"place-center"},"CHANGE PHOTO")],-1)])),_:1}),n(P,{size:"lg",onClick:U,loading:e(r)},{default:p(()=>b[5]||(b[5]=[R(" SAVE ")])),_:1},8,["loading"])])):(d(),C(P,{key:1,variant:"secondary",size:"lg",class:"mt-6 w-full relative"},{default:p(()=>b[6]||(b[6]=[o("label",{for:"upload",class:"absolute inset-0 cursor-pointer"},[o("div",{class:"place-center"},"CLICK TO UPLOAD FILE")],-1)])),_:1})),o("input",{type:"file",id:"upload",class:"hidden",accept:".jpeg, .jpg, .png",onChange:_},null,32)])]),_:3},8,["modelValue"])}}}),Fa={class:"bg-white/5 rounded-3xl border p-6"},za={class:"text-2xl font-semibold"},La={class:"size-[192px] mx-auto my-6 grid place-items-center"},Da=["src"],Aa={class:"place-center"},Oa={class:"overflow-hidden text-ellipsis line-clamp-1"},Ra=["download","href"],Pa=de({__name:"qr-card",props:{id:{},name:{},link:{},qr:{}},setup(I){const V=I,x=E(!1),y=async()=>{await navigator.clipboard.writeText(V.link),x.value=!0,await _a(1200),x.value=!1},{status:w,data:v}=ye(`/qrcode/${V.id}`);return(f,r)=>{var h,N,l;const s=P;return d(),S("div",null,[o("div",Fa,[o("div",za,A(f.name),1),o("div",La,[e(w)==="pending"?(d(),C(e(be),{key:0,class:"size-4 animate-spin"})):(h=e(v))!=null&&h.data?(d(),S("img",{key:1,src:(N=e(v))==null?void 0:N.data,alt:"QR-CODE",class:"w-full h-full object-cover"},null,8,Da)):D("",!0)]),o("div",{class:"border rounded-full bg-white/5 relative px-4 py-2 flex justify-between items-center cursor-pointer hover:bg-white/10",onClick:y},[o("div",Aa,[e(x)?(d(),S("div",{key:0,class:_e(("cn"in f?f.cn:e(me))("bg-background border py-2 px-4 rounded-3xl text-sm text-center text-foreground",e(x)?"animate-in slide-in-from-bottom-2":"animate-out slide-out-to-top-2"))}," Copied ",2)):D("",!0)]),o("div",Oa,A(f.link),1),e(x)?(d(),C(e(ua),{key:0,class:"size-4"})):(d(),C(e(qe),{key:1,class:"size-4"}))])]),n(s,{size:"lg",class:"w-full mt-6 relative",disabled:!((l=e(v))!=null&&l.data)},{default:p(()=>{var _;return[o("a",{download:`${f.name}-spin-request-QR`,href:(_=e(v))==null?void 0:_.data,class:"inset-0 absolute grid place-items-center"}," DOWNLOAD QR CODE ",8,Ra)]}),_:1},8,["disabled"])])}}}),Ia={class:"bg-white/5 rounded-3xl border p-6"},Ta={class:"flex items-center justify-between"},ja={class:"flex justify-between gap-x-2 mt-16 items-center relative"},qa={key:0,class:"place-center z-10"},Ga={class:"border rounded-full bg-white/5 relative px-4 py-2"},Ha={class:"overflow-hidden text-ellipsis line-clamp-1"},Ma={class:"flex gap-x-2 items-center"},Wa={class:"flex gap-x-2 items-center"},Qa=de({__name:"profile-card",props:{username:{}},setup(I){const V=E("Here is my spinRequest profile"),x=I,{public:{APP_BASE_URL:y}}=Ye(),w=O(()=>`${y}/${x.username}`),{copyLink:v,copied:f,externalNavigate:r,twitterShareLink:s,whatsappShareLink:h}=pa(w,V);return(N,l)=>{const _=he,U=P,z=ma;return d(),S("div",Ia,[o("div",Ta,[l[2]||(l[2]=o("div",{class:"text-2xl font-semibold"},"Share profile",-1)),n(_,{name:"spin-logo"})]),o("div",ja,[e(f)?(d(),S("div",qa,l[3]||(l[3]=[o("div",{class:"px-4 py-2 bg-background rounded-full z-10 animate-in slide-in-from-bottom-1 relative"}," Copied ",-1)]))):D("",!0),o("div",Ga,[o("div",Ha,A(e(w)),1)]),o("div",Ma,[n(U,{size:"icon",variant:"outline",onClick:e(v)},{default:p(()=>[n(e(qe),{class:"size-4"})]),_:1},8,["onClick"]),n(z,null,{content:p(()=>[o("div",Wa,[n(U,{size:"icon",variant:"secondary",class:"!size-[40px]",onClick:l[0]||(l[0]=g=>e(r)(e(s)))},{default:p(()=>[n(_,{name:"x"})]),_:1}),n(U,{size:"icon",variant:"secondary",class:"!size-[40px]",onClick:l[1]||(l[1]=g=>e(r)(e(h)))},{default:p(()=>[n(_,{name:"whatsapp",class:"scale-[0.7]"})]),_:1})])]),default:p(()=>[n(U,{size:"icon",variant:"outline"},{default:p(()=>[n(e(ya),{class:"size-4"})]),_:1})]),_:1})])])])}}}),Za={class:"container pb-20"},Ka={class:"flex gap-x-2 items-center fixed top-24 z-10"},Ja={class:"border bg-white/5 p-6 rounded-2xl flex items-center gap-8 flex-wrap lg:flex-nowrap"},Ya={class:"size-[100px] sm:size-[120px] lg:size-[140px] relative shrink-0"},Xa={class:"space-y-5"},et={class:"space-y-1"},at={class:"text-xl font-semibold"},tt={class:"text-foreground/80"},st={class:"flex items-center gap-x-6 flex-wrap gap-y-4 text-muted-foreground text-sm sm:text-base"},ot={class:"flex items-center gap-x-2"},nt={key:0,class:"flex items-center gap-x-2"};const lt={class:"border bg-white/5 p-6 rounded-2xl grid lg:grid-cols-[150px_1fr_126px] xl:grid-cols-[200px_1fr_126px] gap-4"},it={class:"space-y-4"},rt={class:"grid grid-cols-[repeat(auto-fit,_minmax(266px,_1fr))] gap-4"},dt={class:"border bg-white/5 p-6 rounded-2xl grid lg:grid-cols-[150px_1fr_126px] xl:grid-cols-[200px_1fr_126px] gap-6"},ct={key:3,class:"border bg-white/5 p-6 rounded-2xl grid lg:grid-cols-[150px_1fr_126px] xl:grid-cols-[200px_1fr_126px] gap-4"},ut={class:"space-y-4"},pt={key:0,class:"absolute right-3 top-1/2 -translate-y-1/2"},_t={class:"flex gap-x-1 items-center text-sm text-muted-foreground"},mt={class:"flex justify-end"},ft={key:0},vt={key:0,class:"w-full aspect-square rounded-3xl grid place-items-center border bg-white/5"},gt={key:1},Tt=de({__name:"profile",setup(I){var ke,we;const{$config:{public:{APP_BASE_URL:V}},$repo:{auth:x,bank:y}}=xe(),{auth_user:w,auth_token:v,saveAuthUser:f}=Ie(),r=O(()=>{var a;return((a=w.value)==null?void 0:a.role)==="host"}),{data:s,status:h,error:N,refresh:l}=ye((r.value,"/user?stat=true")),{data:_,status:U}=ye("/bankaccount/list"),z=O(()=>{var a;return((a=_==null?void 0:_.value)==null?void 0:a.data)??[]}),g=O(()=>z.value.find(a=>a.name===i.value.bank_account.bank_name)),b=O(()=>z.value.map(a=>a.name)),j=O(()=>{var a,t,m,c;return((t=(a=s.value)==null?void 0:a.data)==null?void 0:t.stage_name)??((c=(m=s.value)==null?void 0:m.data)==null?void 0:c.email)}),fe=O(()=>ea(j.value??"")),ve=E(((we=(ke=s.value)==null?void 0:ke.data)==null?void 0:we.profile_picture)??""),Ge=O(()=>{var a,t;return((t=(a=s.value)==null?void 0:a.data)==null?void 0:t.stage_name)??""}),He=O(()=>{var a,t;return`${V}/${((t=(a=s.value)==null?void 0:a.data)==null?void 0:t.slug)??""}`}),i=Oe("HOST-PROFILE",()=>{var a,t,m,c,k,$,T,L,pe,q,G,H,M,W,Q,Z,K,J,Y,X,ee,ae,te,se,oe,ne,le,ie,re;return{user:{stage_name:((t=(a=s.value)==null?void 0:a.data)==null?void 0:t.stage_name)??"",name:((c=(m=s.value)==null?void 0:m.data)==null?void 0:c.name)??"",bio:(($=(k=s.value)==null?void 0:k.data)==null?void 0:$.bio)??"",dob:((L=(T=s.value)==null?void 0:T.data)==null?void 0:L.dob)??null,gender:((q=(pe=s.value)==null?void 0:pe.data)==null?void 0:q.gender)??null,country:((H=(G=s.value)==null?void 0:G.data)==null?void 0:H.country)??"",profession:((W=(M=s.value)==null?void 0:M.data)==null?void 0:W.profession)??null},bank_account:{bank_name:((K=(Z=(Q=s.value)==null?void 0:Q.data)==null?void 0:Z.bank_account)==null?void 0:K.bank_name)??"",account_name:((X=(Y=(J=s.value)==null?void 0:J.data)==null?void 0:Y.bank_account)==null?void 0:X.account_name)??"",account_number:((te=(ae=(ee=s==null?void 0:s.value)==null?void 0:ee.data)==null?void 0:ae.bank_account)==null?void 0:te.account_number)??"",code:((ne=(oe=(se=s.value)==null?void 0:se.data)==null?void 0:oe.bank_account)==null?void 0:ne.code)??"",country:((re=(ie=(le=s==null?void 0:s.value)==null?void 0:le.data)==null?void 0:ie.bank_account)==null?void 0:re.country)??""}}}),F=Oe("AUDEINCE-PROFILE",()=>{var a,t,m,c,k,$,T,L;return{user:{user_name:((t=(a=s.value)==null?void 0:a.data)==null?void 0:t.user_name)??"",dob:((c=(m=s.value)==null?void 0:m.data)==null?void 0:c.dob)??null,gender:(($=(k=s.value)==null?void 0:k.data)==null?void 0:$.gender)??"",country:((L=(T=s.value)==null?void 0:T.data)==null?void 0:L.country)??""}}});Re(()=>{var t,m,c,k,$;const a=(t=s.value)==null?void 0:t.data;if(a){if(w.value&&v.value){const T={...w.value,bio:a.bio,country:a.country,dob:a.dob,gender:a.gender,profession:a.profession,stage_name:a.stage_name,user_name:a.user_name,profile_picture:a.profile_picture};f(v.value,T)}ve.value=(a==null?void 0:a.profile_picture)??"",i.value.user.bio=(a==null?void 0:a.bio)??"",i.value.user.country=a.country??"",F.value.user.country=a.country??"",i.value.user.dob=a.dob??null,F.value.user.dob=a.dob??null,i.value.user.gender=a.gender??null,F.value.user.gender=a.gender??null,F.value.user.user_name=a.user_name??"",i.value.user.name=a.name??"",i.value.user.stage_name=a.stage_name??"",i.value.user.profession=a.profession??null,i.value.bank_account.account_name=((m=a.bank_account)==null?void 0:m.account_name)??"",i.value.bank_account.account_number=((c=a.bank_account)==null?void 0:c.account_number)??"",i.value.bank_account.bank_name=((k=a.bank_account)==null?void 0:k.bank_name)??"",i.value.bank_account.country=(($=a.bank_account)==null?void 0:$.country)??"Nigeria"}});const ce=E(!1),Me=async a=>{var t,m;try{i.value.bank_account.account_name="",ce.value=!0;const c=await y.verifyBankAccount(a);ce.value=!1;const k=(t=c==null?void 0:c.data)==null?void 0:t.account_name;k?i.value.bank_account.account_name=k:B({title:c.message??"Invalid account",variant:"warning"})}catch(c){ce.value=!1,B({title:((m=c.data)==null?void 0:m.message)??"Invalid account",variant:"warning"}),console.error("FAILED TO VERIFY ACCOUNT",a),i.value.bank_account.account_name=""}};Re(()=>{var t,m,c,k,$;const a={bank_name:((t=g.value)==null?void 0:t.name)??"",account_number:i.value.bank_account.account_number,code:((m=g.value)==null?void 0:m.code)??"",country:"Nigeria"};a.bank_name&&a.code&&((c=a==null?void 0:a.account_number)==null?void 0:c.length)>9&&(($=(k=s.value)==null?void 0:k.data)==null?void 0:$.role)==="host"&&Me(a)});const ue=E(!1),We=async()=>{var m;if(!await da.isValid(i.value.user.bio))return B({title:"Limit bio to just 350 characters",variant:"warning"}),!1;i.value.bank_account.code=((m=g.value)==null?void 0:m.code)??"";const t=[{field:"bank_name",message:"Select your bank name to continue"},{field:"account_number",message:"Enter your account_number to continue"},{field:"account_name",message:"Enter your account name to continue"}];for(const c of t)if(!i.value.bank_account[c.field])return B({title:c.message,variant:"warning"}),!1;return!0},Qe=async()=>{var a;try{if(!r.value&&!await ra.isValid(F.value.user.user_name)){B({title:"Username not valid",variant:"warning"});return}if(!(r.value?await We():!0))return;ue.value=!0;const m=await x.updateProfile(r.value?i.value:F.value);ue.value=!1,m.data&&(B({title:"Updated",description:m.message}),l())}catch(t){ue.value=!1,B({title:"Failed",description:((a=t.data)==null?void 0:a.message)??"Failed to update profile",variant:"warning"})}};return Xe({title:"My Profile"}),(a,t)=>{const m=Ze,c=P,k=aa,$=sa,T=oa,L=na,pe=la;return d(),S("div",Za,[o("div",Ka,[n(m,{to:e(r)?"/dashboard":"/audience"},null,8,["to"]),t[15]||(t[15]=o("div",{class:"text-2xl font-medium font-display"},"My Profile",-1))]),n(pe,{loading:e(h)==="pending",error:e(N)},{default:p(()=>{var q,G,H,M,W,Q,Z,K,J,Y,X,ee,ae,te,se,oe,ne,le,ie,re,Ve,$e,Ne,Be,Se,Ue,Ce,Ee,Fe;return[o("div",{class:_e(("cn"in a?a.cn:e(me))("grid gap-6 mt-20",e(r)?"md:grid-cols-[1fr_348px]":"md:grid-cols-[1fr_348px] lg:grid-cols-[1fr_348px]"))},[o("div",{class:_e(("cn"in a?a.cn:e(me))("space-y-4"))},[o("div",Ja,[o("div",Ya,[n(va,{image:e(ve),initials:e(fe),class:"!rounded-xl !w-full !h-full !text-3xl"},null,8,["image","initials"]),n(Ea,{onUploaded:t[0]||(t[0]=u=>ve.value=u)},{default:p(()=>[n(c,{variant:"secondary",size:"icon",class:"absolute -bottom-1 -right-1"},{default:p(()=>[n(e(ga),{class:"size-3"})]),_:1})]),_:1})]),o("div",Xa,[o("div",et,[o("div",at,A(((G=(q=e(s))==null?void 0:q.data)==null?void 0:G.user_name)??((M=(H=e(s))==null?void 0:H.data)==null?void 0:M.email)),1),o("div",tt,A((Q=(W=e(s))==null?void 0:W.data)!=null&&Q.user_name?(K=(Z=e(s))==null?void 0:Z.data)==null?void 0:K.email:"Add a username"),1)]),o("div",st,[o("div",null,[o("b",null,A(e(r)?((X=(Y=(J=e(s))==null?void 0:J.data)==null?void 0:Y.stats)==null?void 0:X.followers)??"0":((ae=(ee=e(s))==null?void 0:ee.data)==null?void 0:ae.followers)??"0"),1),t[16]||(t[16]=R(" FOLLOWERS "))]),n(k,{class:"text-primary flex items-center gap-x-1",to:"/following"},{default:p(()=>{var u,ze,Le,De,Ae;return[o("b",null,A(e(r)?((Le=(ze=(u=e(s))==null?void 0:u.data)==null?void 0:ze.stats)==null?void 0:Le.following)??"0":((Ae=(De=e(s))==null?void 0:De.data)==null?void 0:Ae.following)??"0"),1),t[17]||(t[17]=o("span",null,"FOLLOWING",-1)),t[18]||(t[18]=R()),n(e(ba))]}),_:1}),o("div",ot,[n(he,{name:"genres"}),o("b",null,A(e(r)?(oe=(se=(te=e(s))==null?void 0:te.data)==null?void 0:se.stats)==null?void 0:oe.requests:((le=(ne=e(s))==null?void 0:ne.data)==null?void 0:le.total_requests)??"0"),1),t[19]||(t[19]=R(" REQUESTS "))]),e(r)?(d(),S("div",nt,[n(he,{name:"celebration"}),o("b",null,A(((Ve=(re=(ie=e(s))==null?void 0:ie.data)==null?void 0:re.stats)==null?void 0:Ve.events)??""),1),t[20]||(t[20]=R(" EVENTS "))])):D("",!0)])])]),D("",!0),e(r)?D("",!0):(d(),C(k,{key:1,to:"/order-history",class:"block"},{default:p(()=>[n(fa)]),_:1})),(e(r),D("",!0)),o("div",lt,[t[27]||(t[27]=o("div",{class:"font-semibold"},"Bio Data",-1)),o("div",it,[o("div",rt,[e(r)?(d(),C($,{key:0,type:"date",label:"Date of birth",modelValue:e(i).user.dob,"onUpdate:modelValue":t[6]||(t[6]=u=>e(i).user.dob=u)},null,8,["modelValue"])):(d(),C($,{key:1,type:"date",label:"Date of birth",modelValue:e(F).user.dob,"onUpdate:modelValue":t[7]||(t[7]=u=>e(F).user.dob=u)},null,8,["modelValue"])),e(r)?(d(),C(L,{key:2,options:["male","female"],placeholder:"Select your gender",label:"Gender",modelValue:e(i).user.gender,"onUpdate:modelValue":t[8]||(t[8]=u=>e(i).user.gender=u)},null,8,["modelValue"])):(d(),C(L,{key:3,options:["male","female"],placeholder:"Select your gender",label:"Gender",modelValue:e(F).user.gender,"onUpdate:modelValue":t[9]||(t[9]=u=>e(F).user.gender=u)},null,8,["modelValue"]))]),e(r)?(d(),C(L,{key:0,options:["Nigeria"],placeholder:"Select your country of residence",label:"Country",modelValue:e(i).user.country,"onUpdate:modelValue":t[10]||(t[10]=u=>e(i).user.country=u)},null,8,["modelValue"])):(d(),C(L,{key:1,options:["Nigeria"],placeholder:"Select your country of residence",label:"Country",modelValue:e(F).user.country,"onUpdate:modelValue":t[11]||(t[11]=u=>e(F).user.country=u)},null,8,["modelValue"]))])]),o("div",dt,[t[28]||(t[28]=o("div",{class:"font-semibold"},"Password",-1)),n(wa)]),e(r)?(d(),S("div",ct,[t[30]||(t[30]=o("div",{class:"space-y-2"},[o("div",{class:"font-semibold"},"Bank Account"),o("div",{class:"text-muted-foreground"}," This is where we will transfer your withdrawals to, make sure its a valid account ")],-1)),o("div",ut,[n(L,{placeholder:"Select your bank",label:"Bank",options:e(b),modelValue:e(i).bank_account.bank_name,"onUpdate:modelValue":t[12]||(t[12]=u=>e(i).bank_account.bank_name=u),loading:e(U)==="pending"},null,8,["options","modelValue","loading"]),n($,{placeholder:"Enter your bank account",label:"Account Number",modelValue:e(i).bank_account.account_number,"onUpdate:modelValue":t[13]||(t[13]=u=>e(i).bank_account.account_number=u)},null,8,["modelValue"]),n($,{label:"Account Name",disabled:"",modelValue:e(i).bank_account.account_name,"onUpdate:modelValue":t[14]||(t[14]=u=>e(i).bank_account.account_name=u)},{default:p(()=>[e(ce)?(d(),S("div",pt,[o("div",_t,[n(e(be),{class:"size-4 animate-spin"}),t[29]||(t[29]=o("div",null,"Verifying..",-1))])])):D("",!0)]),_:1},8,["modelValue"])])])):D("",!0),o("div",mt,[n(c,{size:"lg",onClick:Qe,loading:e(ue)},{default:p(()=>t[31]||(t[31]=[R(" Save Changes ")])),_:1},8,["loading"])])],2),e(r)?(d(),S("div",ft,[e(h)==="pending"?(d(),S("div",vt,[n(e(be),{class:"size-5 animate-spin"})])):(Ne=($e=e(s))==null?void 0:$e.data)!=null&&Ne.id?(d(),C(Pa,{key:1,name:e(Ge),link:e(He),id:(Se=(Be=e(s))==null?void 0:Be.data)==null?void 0:Se.id},null,8,["name","link","id"])):D("",!0)])):(Ce=(Ue=e(s))==null?void 0:Ue.data)!=null&&Ce.user_name?(d(),S("div",gt,[n(Qa,{username:(Fe=(Ee=e(s))==null?void 0:Ee.data)==null?void 0:Fe.user_name},null,8,["username"])])):D("",!0)],2)]}),_:1},8,["loading","error"])])}}});export{Tt as default};
