import{_ as te}from"./Dev_Uqfw.js";import{e as le,h as D,l as se,o as c,c as g,a1 as B,a as t,r as M,p as T,w as f,n as e,K as ie,b as a,a4 as ne,_ as F,j as $,f as re,t as h,F as w,v as N,E as L,s as U,x as de,G as oe,d as S,z as C,$ as ce,H as ue,S as P,T as J,V as Z,U as me,M as _e,N as ve,i as pe,m as fe,L as O}from"./C6fQWjZk.js";import{e as ge}from"./C0oFntfg.js";import{_ as ae}from"./CQ5oSmZr.js";import{_ as H}from"./CMkTZW-H.js";import{_ as ye}from"./DMBw_LKE.js";import{_ as he}from"./D_ExgJbT.js";import{P as be}from"./D1rAwh1q.js";import{_ as xe}from"./CD6T3U7w.js";import{D as ee}from"./B31533ye.js";import{_ as ke}from"./DlAUqK2U.js";import{_ as $e}from"./BNFYlZmO.js";import{_ as we,C as Ee}from"./C3EFBc0x.js";import{u as R}from"./BgLezTEz.js";import{C as ze}from"./Dpv4-Zck.js";import"./DU4-Cucs.js";import"./Dr01EKYj.js";import"./ut0gQ4xy.js";import"./xGFaBEVr.js";import"./DFO0sHI5.js";import"./Cpj98o6Y.js";/**
 * @license lucide-vue-next v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=le("Trash2Icon",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Fe={class:"flex flex-row [&_>_*]:shrink-0 h-full items-center"},Me=D({__name:"carousel",props:{options:{},plugins:{default:()=>[]},onReady:{}},setup(b){const l=b,[o,p]=ge(l.options,l.plugins);return se(()=>p.value,u=>{var n;u&&((n=l.onReady)==null||n.call(l,u))}),(u,n)=>(c(),g("div",{class:"overflow-hidden",ref_key:"emblaRef",ref:o},[B(u.$slots,"container",{},()=>[t("div",Fe,[B(u.$slots,"default")])])],512))}}),Te={class:"p-6"},De=D({__name:"edit-event",props:{id:{},title:{},address:{},country:{},state:{},type:{},song_price:{},hype_price:{}},emits:["done"],setup(b,{emit:l}){const o=b,p=l,u=M(!1),n=()=>{p("done"),u.value=!1};return(i,_)=>{const y=F,m=ye;return c(),T(m,{size:"lg",modelValue:e(u),"onUpdate:modelValue":_[0]||(_[0]=x=>ie(u)?u.value=x:null),controlled:""},{heading:f(()=>_[1]||(_[1]=[t("div",{class:"font-display text-2xl font-medium"},"Edit event",-1)])),trigger:f(()=>[B(i.$slots,"default",{},()=>[a(y,{variant:"ghost",size:"icon"},{default:f(()=>[a(e(be),{class:"size-5 text-muted-foreground"})]),_:1})])]),default:f(()=>[t("div",Te,[a(he,ne(o,{edit:"",id:i.id,onDone:n}),null,16,["id"])])]),_:3},8,["modelValue"])}}}),Le={class:"rounded-2xl bg-background border border-ring/30 px-4 sm:px-6 py-4 relative overflow-hidden w-full grid"},Se={class:"grid grid-cols-[1fr_auto_auto] gap-x-2 items-center relative z-10"},Ae={class:"mb-1 font-semibold text-2xl"},Ie={class:"flex text-sm text-muted-foreground gap-1 items-center"},Ne={class:"space-y-2 my-6"},Ve={class:"capitalize"},Ue={class:"tabular-nums"},j=D({__name:"event-card",props:{event:{}},emits:["done"],setup(b,{emit:l}){const o=b,p=l,u=$(()=>{var d,v,k,A,I,V;const[s,r]=o.event.types.map(E=>E.name);return{title:((d=o==null?void 0:o.event)==null?void 0:d.title)??"",address:((v=o==null?void 0:o.event)==null?void 0:v.address)??"",country:(k=o==null?void 0:o.event)==null?void 0:k.country,state:(A=o==null?void 0:o.event)==null?void 0:A.state,hype_price:((I=o.event.types.find(E=>E.name==="hype"))==null?void 0:I.price)??0,song_price:((V=o.event.types.find(E=>E.name==="song"))==null?void 0:V.price)??0,type:r?"both":s}}),n=ce("aspect-square rounded-full grid place-items-center",{variants:{type:{song:"bg-[#FFEE99]/10",hype:"bg-[#FF99F1]/10"}},defaultVariants:{type:"song"}}),{$repo:{event:i}}=re(),_=M(!1),y=async()=>{var s;try{_.value=!0;const r=await i.goLive(o.event.id);U({title:r.message}),r.data&&de(`/events/${r.data.id}`),_.value=!1}catch(r){const d=r;_.value=!1,console.error("FAILED TO GO LIVE",d),U({title:"Failed",description:((s=d==null?void 0:d.data)==null?void 0:s.message)??"Failed to go live",variant:"warning"})}},m=M(!1),x=async()=>{var s;try{m.value=!0;const r=await i.deleteEvent(o.event.id);m.value=!1,U({title:r.message}),p("done")}catch(r){const d=r;m.value=!1,console.error("FAILED TO DELETE EVENT",d),U({title:"Failed",description:((s=d==null?void 0:d.data)==null?void 0:s.message)??"Failed to delete event",variant:"warning"})}};return(s,r)=>{const d=ae,v=H;return c(),g("div",Le,[r[3]||(r[3]=t("div",{class:"bg-[#FFEE99] opacity-20 rounded-[1000px] blur-[100px] translate-x-1/2 -translate-y-1/2 size-56 absolute right-0 top-0"},null,-1)),t("div",Se,[t("div",Ae,h(s.event.title),1),s.event.status==="new"?(c(),g(w,{key:0},[a(De,ne(e(u),{id:s.event.id,onDone:r[0]||(r[0]=k=>p("done"))}),null,16,["id"]),a(xe,{message:"Are you sure you want to delete this event","on-confirm":x},{default:f(()=>[a(F,{size:"icon",variant:"ghost",loading:e(m)},{default:f(()=>[a(e(Ce),{class:"size-5 text-muted-foreground cursor-pointer"})]),_:1},8,["loading"])]),_:1})],64)):N("",!0)]),t("div",Ie,[a(d,{name:"location"}),t("div",null,h(s.event.address),1)]),t("div",Ne,[(c(!0),g(w,null,L(s.event.types,k=>(c(),g("div",{class:"grid grid-cols-[35px_1fr_auto] gap-x-2 items-center",key:k.id},[t("div",{class:oe(e(n)({type:k.name}))},[a(d,{class:"scale-50",name:k.name=="song"?"music":"mic"},null,8,["name"])],2),t("div",Ve,[S(h(k.name)+" ",1),r[1]||(r[1]=t("span",{class:"hidden md:inline"},"request",-1))]),t("div",Ue,"₦"+h(("formatMoney"in s?s.formatMoney:e(C))(k.price)),1)]))),128))]),s.event.status==="live"?(c(),T(v,{key:0,to:`/events/${s.event.id}`,class:"mt-auto"},{default:f(()=>[a(F,{size:"lg",class:"w-full bg-[#38F08D] text-background",variant:"ghost"},{default:f(()=>[a(e(ee)),r[2]||(r[2]=S("BACK TO EVENT ")),a(e(ee))]),_:1})]),_:1},8,["to"])):(c(),T(F,{key:1,size:"lg",class:"w-full mt-auto animate-pulse bg-gradient-to-r from-[#844AFF] from-[1.28%] via-[#E991DD] via-[58.26%] to-[#FCF0AF] to-[100%]",onClick:y,loading:e(_),disabled:s.event.status==="ended"},{default:f(()=>[S(h(s.event.status==="ended"?"ENDED":"GO LIVE"),1)]),_:1},8,["loading","disabled"]))])}}}),Be={},Re={class:"rounded-2xl bg-background border border-foreground/20 px-4 sm:px-6 py-4 relative overflow-hidden grid"};function He(b,l){const o=F,p=H;return c(),g("div",Re,[l[1]||(l[1]=t("div",{class:"bg-[#FFEE99] opacity-20 rounded-[1000px] blur-[100px] translate-x-1/2 -translate-y-1/2 size-56 absolute right-0 top-0 z-[2]"},null,-1)),l[2]||(l[2]=t("div",{class:"mb-4 font-semibold text-2xl"},"Events",-1)),l[3]||(l[3]=t("div",{class:"text-muted-foreground"}," Create your event today, Go live, make all requests count, and keep the audience hyped up all day. ",-1)),a(p,{to:"/create-event",class:"mt-auto"},{default:f(()=>[a(o,{size:"lg",class:"w-full mt-6 uppercase"},{default:f(()=>l[0]||(l[0]=[S(" ✨ Create an event ✨ ")])),_:1})]),_:1})])}const G=ke(Be,[["render",He]]),Oe=b=>{const l=M(0),o=M([]),p=i=>{b.value&&b.value.scrollTo(i)},u=i=>{o.value=i.scrollSnapList()},n=i=>{l.value=i.selectedScrollSnap()};return se(b,i=>{i&&(u(i),n(i),i.on("reInit",u).on("reInit",n).on("select",n))}),{selected_index:l,control_list:o,goTo:p}},Pe={key:0},je={class:"flex flex-row items-stretch gap-x-2"},Ge={class:"mt-6 p-2 flex items-center justify-center gap-x-2 z-10 relative"},Ye=["onClick"],Qe=D({__name:"event-carousel",props:{events:{}},emits:["done"],setup(b,{emit:l}){const o=M(),p=y=>{o.value=y},u=l,{control_list:n,selected_index:i,goTo:_}=Oe(o);return(y,m)=>{var x;return(x=y.events)!=null&&x.length?(c(),g("div",Pe,[a(Me,{options:{slidesToScroll:"auto"},onReady:p},{container:f(()=>[t("div",je,[a(G,{class:"w-[90%] shrink-0"}),(c(!0),g(w,null,L(y.events,s=>(c(),T(j,{class:"w-[90%] shrink-0",key:s.id,event:s,onDone:m[0]||(m[0]=r=>u("done"))},null,8,["event"]))),128))])]),_:1}),t("div",Ge,[(c(!0),g(w,null,L(e(n),(s,r)=>(c(),g("div",{class:oe(("cn"in y?y.cn:e(ue))("size-3 rounded-full transition-all",e(i)===r?"bg-primary":"bg-muted")),key:s+r,onClick:()=>e(_)(r)},null,10,Ye))),128))])])):(c(),T(G,{key:1}))}}}),We={class:"flex gap-x-2 items-center"},Ke={class:"font-semibold"},qe={class:"min-h-[297px] grid place-items-center"},Xe={class:"space-y-4"},Je={class:"space-y-1 md:hidden"},Ze={class:"font-semibold text-left"},et={class:"space-y-4 px-4 pb-4"},tt={class:"space-y-1"},st={class:""},nt={class:"space-y-1"},ot={class:""},at={class:"space-y-1"},lt={class:""},it=D({__name:"host-top-spenders-table",setup(b){const l=M(["#","NAME","SONG REQUEST","HYPE REQUESTS","TOTAL"]),{data:o,status:p}=R("/user/top-audience"),u=$(()=>{var n;return((n=o.value)==null?void 0:n.data)??[]});return(n,i)=>{const _=te,y=me,m=_e,x=ve;return c(),g(w,null,[a(we,{heading:e(l),data:e(u),loading:e(p)==="pending",class:"hidden md:block"},{empty:f(()=>[t("div",qe,[t("div",Xe,[a(e(Ee),{class:"size-8 block mx-auto"}),i[0]||(i[0]=t("div",{class:"text-2xl font-semibold text-muted-foreground text-center"}," No paying audience ",-1)),i[1]||(i[1]=t("div",{class:"text-sm text-muted-foreground text-center"}," You don't have any paying audience yet. Once you do, your they will appear here ",-1))])])]),default:f(()=>[(c(!0),g(w,null,L(e(u),(s,r)=>{var d;return c(),g("tr",{class:"!h-20 text-muted-foreground",key:s.audience_name+r},[t("td",null,h(r+1),1),t("td",null,[t("div",We,[a(_,{initials:("getInitials"in n?n.getInitials:e(P))(s==null?void 0:s.audience_name),class:"font-bold text-lg",style:J({backgroundColor:("getHexColor"in n?n.getHexColor:e(Z))(((d=s==null?void 0:s.audience_name)==null?void 0:d.charAt(0))??"A"),color:"black"})},null,8,["initials","style"]),t("div",Ke,h(s.audience_name),1)])]),t("td",null,"₦"+h(("formatMoney"in n?n.formatMoney:e(C))(s.song_earnings??0)),1),t("td",null,"₦"+h(("formatMoney"in n?n.formatMoney:e(C))(s.hype_earnings??0)),1),t("td",null,"₦"+h(("formatMoney"in n?n.formatMoney:e(C))(s.total_earnings??0)),1)])}),128))]),_:1},8,["heading","data","loading"]),t("div",Je,[e(p)==="pending"?(c(),g(w,{key:0},L(4,s=>t("div",{class:"h-10 bg-white/5 animate-pulse",key:s})),64)):(c(!0),g(w,{key:1},L(e(u),(s,r)=>(c(),T(x,{key:s.audience_name+r,class:"rounded-lg bg-white/5"},{default:f(()=>[a(y,{class:"grid grid-cols-[auto_1fr_15px] gap-x-4 items-center w-full p-4 [&[data-state='open']_.caret]:rotate-180"},{default:f(()=>{var d;return[a(_,{initials:("getInitials"in n?n.getInitials:e(P))(s==null?void 0:s.audience_name),class:"font-bold text-lg",style:J({backgroundColor:("getHexColor"in n?n.getHexColor:e(Z))(((d=s==null?void 0:s.audience_name)==null?void 0:d.charAt(0))??"A"),color:"black"})},null,8,["initials","style"]),t("div",Ze,h(s.audience_name),1),a(e(ze),{class:"size-5 caret transition-transform relative"})]}),_:2},1024),a(m,{class:"data-[state=open]:animate-collapsibleSlideDown data-[state=closed]:animate-collapsibleSlideUp overflow-hidden"},{default:f(()=>[t("div",et,[t("div",tt,[i[2]||(i[2]=t("div",{class:"text-sm text-muted-foreground"},"SONG REQUESTS",-1)),t("div",st,"₦"+h(("formatMoney"in n?n.formatMoney:e(C))(s.song_earnings??0)),1)]),t("div",nt,[i[3]||(i[3]=t("div",{class:"text-sm text-muted-foreground"},"HYPE REQUESTS",-1)),t("div",ot,"₦"+h(("formatMoney"in n?n.formatMoney:e(C))(s.hype_earnings??0)),1)]),t("div",at,[i[4]||(i[4]=t("div",{class:"text-sm text-muted-foreground"},"TOTAL",-1)),t("div",lt," ₦"+h(("formatMoney"in n?n.formatMoney:e(C))(s.total_earnings??0)),1)])])]),_:2},1024)]),_:2},1024))),128))])],64)}}}),rt={class:"relative grid place-items-center"},dt={class:"absolute text-sm font-bold"},ct=["width","height","viewBox"],ut=["cx","cy","r"],mt=["cx","cy","r","stroke-dasharray","stroke-dashoffset"],_t=D({__name:"arc-progress",props:{base:{default:100},size:{default:50},progress:{default:.5}},setup(b){const l=$(()=>b.size*.5*.95),o=$(()=>b.size/2),p=$(()=>2*Math.PI*l.value),u=$(()=>Math.min(1,Math.max(0,b.progress))),n=$(()=>p.value-p.value*u.value),i={"--arc-circumference":`${n.value}`,"--circumference":`${p.value}`};return(_,y)=>(c(),g("div",rt,[B(_.$slots,"progress",{progress_extent:e(u)},()=>[t("p",dt,h(_.base*e(u)),1)]),(c(),g("svg",{width:_.size,height:_.size,viewBox:`0 0 ${_.size} ${_.size}`,class:"fill-transparent -rotate-90",style:i},[y[0]||(y[0]=t("title",{class:"absolute"},"Arc progress",-1)),t("circle",{cx:e(o),cy:e(o),r:e(l),class:"stroke-muted stroke-[7px] fill-none","stroke-dashoffset":0},null,8,ut),t("circle",{cx:e(o),cy:e(o),r:e(l),class:"stroke-primary stroke-[7px] fill-none animated-progress","stroke-dasharray":e(p),"stroke-dashoffset":e(n),"stroke-linecap":"round"},null,8,mt)],8,ct))]))}}),vt={key:0,class:"grid lg:grid-cols-[auto,_1fr,_auto] gap-6 bg-white/5 items-center border p-6 rounded-2xl"},pt={class:"size-[120px] bg-[#A799FF1A] rounded-full"},ft={class:"absolute text-2xl font-bold"},gt={class:"space-y-4"},yt={class:"text-2xl font-semibold"},ht=D({__name:"profile-completion",setup(b){const{data:l,status:o}=R("/user?stat=true"),p=["stage_name","bio","dob","gender","profession","country","bank_account.bank_name","bank_account.account_number"],u=$(()=>{var m;return(m=l.value)==null?void 0:m.data}),n=m=>u.value?m.split(".").reduce((x,s)=>x?x[s]:void 0,u.value):null,i=$(()=>p.filter(m=>!!n(m))),_=$(()=>{const m=i.value.length/p.length;return Number.parseFloat(m.toFixed(2))}),y=$(()=>{var m;return o.value==="pending"||!((m=l.value)!=null&&m.data)?!1:_.value<1});return(m,x)=>{const s=F,r=H;return e(y)?(c(),g("div",vt,[t("div",pt,[a(_t,{size:120,progress:e(_)},{progress:f(()=>[t("p",ft,h(e(_)*100)+"%",1)]),_:1},8,["progress"])]),t("div",gt,[t("div",yt," Your profile is "+h(e(_)*100)+"% complete ",1),x[0]||(x[0]=t("div",{class:"text-muted-foreground text-lg"}," Fill in additional details to let your audience know more about you and allow us to pay you your earnings ",-1))]),a(r,{to:"/profile"},{default:f(()=>[a(s,{variant:"secondary",size:"lg"},{default:f(()=>x[1]||(x[1]=[S(" Complete profile ")])),_:1})]),_:1})])):N("",!0)}}}),bt={class:"container pt-10 pb-40"},xt={class:"flex gap-x-2 items-center mb-8"},kt={class:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-display tracking-wide"},$t={key:0,class:"flex justify-center mac:hidden py-2"},wt={class:"sticky mac:hidden w-scree -trnslate-x-[var(--cp)] mb-6 z-20"},Et={class:"grid mac:grid-cols-[1fr_auto] items-start gap-4"},zt={class:"order-2 mac:order-1 space-y-6"},Ct={class:"relative bg-white/5 rounded-2xl p-6 border flex items-center justify-between overflow-hidden"},Ft={class:"space-y-2"},Mt={class:"flex gap-2"},Tt={key:0},Dt={key:1,class:"text-3xl md:text-4xl font-semibold"},Lt={class:"bg-white/5 p-6 rounded-2xl border"},St={class:"flex justify-between items-center mb-10"},At={class:"bg-white/5 p-6 rounded-2xl border"},It={class:"max-w-full w-full hidden mac:grid mac:w-[380px] order-1 mac:order-2 space-y-6"},Nt={class:"sticky top-[80px] left-0 right-0 z-10 space-y-6"},Vt={key:0,class:"my-6 grid place-items-center"},as=D({__name:"dashboard",setup(b){const{auth_user:l}=pe(),{data:o,status:p,error:u,refresh:n}=R("/events"),{data:i,status:_}=R("/wallets"),y=$(()=>{var d,v,k;return(v=(d=o.value)==null?void 0:d.data)!=null&&v.length?(k=o.value)==null?void 0:k.data.filter(A=>A.status==="new"):[]}),m=M(),x=d=>{m.value=d},s=$(()=>{var d,v;return(v=(d=o.value)==null?void 0:d.data)==null?void 0:v.find(k=>k.status==="live")}),r=$(()=>s.value?[s.value,...y.value]:[...y.value]);return fe({title:"Host Dashboard"}),(d,v)=>{var Y,Q,W,K,q,X;const k=te,A=Qe,I=H,V=ae,E=F;return c(),g("div",bt,[t("div",xt,[a(k,{class:"!bg-[#FF99F1] size-[56px] shrink-0 text-background text-xl font-bold",initials:("getInitials"in d?d.getInitials:e(P))(((Y=e(l))==null?void 0:Y.stage_name)??""),image:(Q=e(l))==null?void 0:Q.profile_picture},null,8,["initials","image"]),t("div",kt,[v[0]||(v[0]=S(" Welcome, ")),t("b",null,h((W=e(l))==null?void 0:W.stage_name),1)])]),e(p)==="pending"?(c(),g("div",$t,[a(e(O),{class:"size-5 animate-spin"})])):N("",!0),t("div",wt,[a(A,{events:e(r),onDone:e(n)},null,8,["events","onDone"])]),t("div",Et,[t("div",zt,[a(ht),t("div",Ct,[v[3]||(v[3]=t("div",{class:"bg-sp-purple/50 blur-[200px] size-56 absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[2]"},null,-1)),t("div",Ft,[v[1]||(v[1]=t("div",{class:"text-muted-foreground"},"Withdrawable balance",-1)),t("div",Mt,[e(_)==="pending"?(c(),g("div",Tt,[a(e(O),{class:"size-5 animate-spin"})])):(c(),g("div",Dt," ₦"+h(("formatMoney"in d?d.formatMoney:e(C))(((K=e(i))==null?void 0:K.wallet_balance)??0)),1))])]),a(I,{to:"/wallet"},{default:f(()=>[a(F,null,{default:f(()=>v[2]||(v[2]=[S("MY WALLET")])),_:1})]),_:1})]),t("div",Lt,[t("div",St,[v[5]||(v[5]=t("div",{class:"font-semibold text-2xl"},"Previous events",-1)),a(I,{to:(q=e(m))!=null&&q.event_details.length?"/events":"/dashboard",class:"hidden md:block"},{default:f(()=>{var z;return[a(E,{variant:"secondary",class:"gap-x-1",disabled:!((z=e(m))!=null&&z.event_details.length)},{default:f(()=>[v[4]||(v[4]=t("span",null,"SEE ALL",-1)),a(V,{name:"arrow_right_alt"})]),_:1},8,["disabled"])]}),_:1},8,["to"])]),a($e,{onDone:x}),a(I,{to:(X=e(m))!=null&&X.event_details.length?"/events":"/dashboard",class:"w-full md:hidden"},{default:f(()=>{var z;return[a(E,{variant:"secondary",class:"gap-x-1 w-full mt-6",disabled:!((z=e(m))!=null&&z.event_details.length)},{default:f(()=>[v[6]||(v[6]=t("span",null,"SEE ALL",-1)),a(V,{name:"arrow_right_alt"})]),_:1},8,["disabled"])]}),_:1},8,["to"])]),t("div",At,[v[7]||(v[7]=t("div",{class:"font-semibold text-2xl mb-10"},"Top Audience",-1)),a(it)])]),t("div",It,[t("div",Nt,[a(G),e(s)?(c(),T(j,{key:0,event:e(s),onDone:e(n)},null,8,["event","onDone"])):N("",!0)]),e(p)==="pending"?(c(),g("div",Vt,[a(e(O),{class:"size-5 animate-spin"})])):N("",!0),e(o)&&!e(u)?(c(!0),g(w,{key:1},L(e(y),z=>(c(),T(j,{key:z.id,event:z,onDone:e(n)},null,8,["event","onDone"]))),128)):N("",!0)])])])}}});export{as as default};
